<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Diagnosa Medis - Medicare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 0;
    }

    header {
      background: linear-gradient(135deg, #00bfa6, #009e8a);
      color: #fff;
      padding: 1.2rem;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    h1 {
      margin: 0;
      font-size: 1.6rem;
    }

    .chat-container {
      max-width: 700px;
      margin: 2rem auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      padding: 1rem 1.5rem;
      display: flex;
      flex-direction: column;
      height: 80vh;
    }

    .chat-box {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      background-color: #f9fafb;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
    }

    .message {
      margin-bottom: 1rem;
      max-width: 75%;
      padding: 0.9rem 1.2rem;
      border-radius: 20px;
      position: relative;
      word-wrap: break-word;
      clear: both;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      font-size: 0.95rem;
    }

    .bot {
      background-color: #edf2f7;
      align-self: flex-start;
      border-bottom-left-radius: 4px;
    }

    .user {
      background-color: #00bfa6;
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .input-box {
      display: flex;
      gap: 0.8rem;
      margin-top: 1rem;
      border-top: 1px solid #e5e7eb;
      padding-top: 1rem;
    }

    input[type="text"] {
      flex: 1;
      padding: 0.9rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 25px;
      font-size: 1rem;
      transition: 0.2s border ease-in-out;
    }

    input[type="text"]:focus {
      border-color: #00bfa6;
      outline: none;
    }

    button {
      padding: 0.9rem 1.3rem;
      background-color: #00bfa6;
      color: white;
      border: none;
      border-radius: 25px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #009e8a;
    }

    ul {
      padding-left: 1.2rem;
      margin-top: 0.5rem;
    }

    strong {
      color: #111827;
    }
  </style>
</head>
<body>

<header>
  <h1><i class="fas fa-stethoscope"></i>Diagnosa Medis</h1>
</header>

<div class="chat-container">
  <div class="chat-box" id="chat-box">
    <div class="message bot">Halo! Saya adalah asisten diagnosa medis. Apa keluhan utama Anda?</div>
  </div>
  <div class="input-box" id="input-box">
    <input type="text" id="user-input" placeholder="Tulis jawaban Anda...">
    <button onclick="nextQuestion()">Kirim</button>
  </div>
</div>

<script>
  const questions = [
    "Sudah berapa lama keluhan ini terjadi?",
    "Seberapa parah gejalanya? (ringan / sedang / berat)",
    "Apakah Anda mengalami gejala tambahan? (misalnya: demam, batuk, mual, pusing)",
    "Apa riwayat penyakit sebelumnya?",
    "Obat apa yang sedang Anda konsumsi?",
    "Apakah Anda memiliki alergi terhadap obat atau makanan?",
    "Terima kasih. Data Anda sudah kami terima. Seorang dokter akan segera meninjau keluhan Anda."
  ];

  let answers = [];
  let currentQuestion = 0;

  function nextQuestion() {
    const input = document.getElementById("user-input");
    const chatBox = document.getElementById("chat-box");
    const inputBox = document.getElementById("input-box");
    const userText = input.value.trim();
    if (!userText) return;

    // Bubble user
    const userMessage = document.createElement("div");
    userMessage.className = "message user";
    userMessage.innerText = userText;
    chatBox.appendChild(userMessage);

    answers.push(userText);
    input.value = "";

    // Pertanyaan berikutnya
    currentQuestion++;
    setTimeout(() => {
      if (currentQuestion < questions.length) {
        const botMessage = document.createElement("div");
        botMessage.className = "message bot";
        botMessage.innerText = questions[currentQuestion];
        chatBox.appendChild(botMessage);
      } else {
        const summary = document.createElement("div");
        summary.className = "message bot";
        summary.innerHTML = "<strong>Ringkasan Diagnosa Anda:</strong><br><ul>" +
          ["Keluhan utama", "Durasi", "Keparahan", "Gejala tambahan", "Riwayat penyakit", "Obat", "Alergi"]
          .map((label, i) => `<li><strong>${label}:</strong> ${answers[i]}</li>`).join("") + "</ul>";
        chatBox.appendChild(summary);
        inputBox.style.display = "none";
      }

      chatBox.scrollTop = chatBox.scrollHeight;
    }, 500);
  }
    document.getElementById("user-input").addEventListener("keypress", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      nextQuestion();
    }
  });
  <a href="/"><i class="fas fa-arrow-left"></i> Kembali ke Menu</a>
</script>

</body>
</html>
